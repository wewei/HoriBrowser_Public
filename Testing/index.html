<html>
	<head>
	</head>
	<body>
		<h1>It works</h1>
		<input type="text"></input>
		<button onclick="showBaidu()">Baidu</button>
		<button onclick="testGetProperty(10)">test getProperty</button>
		<script type="text/javascript">
		function showBaidu()
		{
			var navCtrl = $H("/User/NavigatioinController");
			navCtrl.call(
				"pushScene",
				{
					"url": "http://www.baidu.com",
					"waitForLoading" : 1,
					"stopOnFailure" : 1,
				},
				function (exception, returnValue) {
					if (exception)
						alert(JSON.stringify(exception));
				});
		}

		function testGetProperty(n)
		{
            if (n > 0) {
                $H("/Current/WebViewController").getProperty(
                    "navigationItemTitle",
                    function (exception, returnValue) {
                        document.body.innerHTML += "<p>" + returnValue + "</p>\n";
                        testGetProperty(n - 1);
                    }
                );
            }
		}

		function setRootViewController(path)
		{
			var rootViewController = $H("/System/RootViewController");
			rootViewController.call(
				"presentViewController",
				{
					"viewController": path,
					"animated": 1,
				}
			);
		}

		var navCtrlClass = $H("/Class/NavigationController");
		navCtrlClass.call(
			"new",
			{
			//	"path"  : "/User/NavigatioinController",
				"arguments" : {
					"rootViewController" : "/Current/WebViewController",
				},
			},
			function (exception, returnValue) {
				setRootViewController(returnValue);
                // alert(returnValue);
                $H(returnValue).move("/User/NavigatioinController");
			}
		);
        $H("/Current/WebViewController").setProperty("navigationItemTitle", "Welcome");

		</script>
	</body>
</html>
